user_data = {} #定义一个集
def new_user():#新用户函数
   prompt = '请输入用户名'
   while True:
      name = input(prompt)
      if name in user_data:
         print('用户名已存在,请重新输入')
         continue
      else:
         break
   passwd = input('请输入密码')
   user_data[name] = passwd
   print('注册成功哦')     
def old_user():#老用户函数
   prompt = '请输入用户名'
   while True:
      name = input(prompt)
      if name not in user_data:
         print('帐号未注册，请注册之后再来')
         continue
      else:
         break
   passwd = input('请输入密码')
   pwd = user_data[name]
   if pwd == passwd:
      print('登录成功')
   else:
      print('密码错误，请重新输入')   
def showmenu():#菜单函数
   prompt = '''
|---输入N/n注册用户---|
|---输入O/o登录帐号---|
|---输入Q/q退出程序---|
|---请输入指令:---|'''
   while 1 :
      chosen = False
      while not chosen:
         choice = input(prompt)
         if choice not in 'QqNnOo':
            print('输入指令错误，请重新输入')
         else:
            chosen = True
      if choice == 'N'or choice == 'n':
         new_user()
      if choice == 'O'or choice == 'o':
         old_user()
      if choice == 'Q'or choice == 'q':
         break
showmenu()
